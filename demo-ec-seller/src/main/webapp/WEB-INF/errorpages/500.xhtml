<ui:composition template="/WEB-INF/templates/layout.xhtml" 
	xmlns:="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:o="http://omnifaces.org/ui"
	xmlns:of="http://omnifaces.org/functions">
	<ui:param name="title" value="#{text['login']}"/>

<ui:define name="content">
	<dl>
		<dt>Date/time</dt>
		<dd>#{of:formatDate(now, 'yyyy-MM-dd HH:mm:ss')}</dd>
	    <dt>User agent</dt>
	    <dd>#{header['user-agent']}</dd>
	    <dt>User IP</dt>
	    <dd>#{request.remoteAddr}</dd>
	    <dt>Request URI</dt>
	    <dd>#{requestScope['javax.servlet.error.request_uri']}</dd>
	    <dt>Ajax request</dt>
	    <dd>#{facesContext.partialViewContext.ajaxRequest ? 'Yes' : 'No'}</dd>
	    <dt>Status code</dt>
	    <dd>#{requestScope['javax.servlet.error.status_code']}</dd>
	    <dt>Exception type</dt>
	    <dd>#{requestScope['javax.servlet.error.exception_type']}</dd>
	    <dt>Exception message</dt>
	    <dd>#{requestScope['javax.servlet.error.message']}</dd>
	    <dt>Exception UUID</dt>
	    <dd>#{requestScope['org.omnifaces.exception_uuid']}</dd>

		<c:if test="#{DEV}">
			<dt>Stack trace</dt>
			<dd>
				<pre>#{
					facesContext.externalContext.response.writer.flush()
				}#{
					of:printStackTrace(requestScope['javax.servlet.error.exception'])
				}</pre></dd>
		</c:if>
	</dl>
</ui:define>
</ui:composition>